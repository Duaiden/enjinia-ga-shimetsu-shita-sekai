/* 
  制作中のゲームは、縦方向に H マスと横方向に W マスだけ広がる格子上のマップを用います。 
  左下のマスが原点であり、その座標を (0, 0) とします。 
  原点から横方向に x マス、縦方向に y マス進んだ座標を (x, y) と表記します。

  現在の開発段階では障害物などはなく、キャラクターの初期座標が必ず (0, 0) です。 
  この状態から合計で N 回の上下左右への移動操作が行われます。 
  各移動操作はキャラクターの座標 (x, y) を以下のように変更します。
  
 ・上への移動 : キャラクターの座標を (x, y) から (x, y + 1) へ変更する。 
 ・下への移動 : キャラクターの座標を (x, y) から (x, y - 1) へ変更する。 
 ・左への移動 : キャラクターの座標を (x, y) から (x - 1, y) へ変更する。 
 ・右への移動 : キャラクターの座標を (x, y) から (x + 1, y) へ変更する。

  開発依頼書には、N 回の操作中にキャラクターが不正な座標にいることがないか判定するプログラムの作成が指示されています。 
  ここで不正な座標とは、マップ外の座標、すなわち格子上に存在しない座標すべてのことを指します。 
*/
#include <stdio.h>

int main(void){
    
    int x = 0, y = 0, flag = 0;
    int H, W, N;
    char D;
    char tmp[10];
    scanf("%d %d %d", &H, &W, &N);
    fgets(tmp, sizeof(tmp), stdin);
    
    for (int i = 0; i < N; i++) {
        scanf("%c", &D);
        fgets(tmp, sizeof(tmp), stdin);
        
        if(D == 'U'){
            y ++;
        }
        else if(D == 'D'){
            y --;
        }
        else if(D == 'R'){
            x ++;
        }
        else if(D == 'L'){
            x --;
        }
        
        if(W <= x || x < 0 || H <= y || y < 0){
            flag = 1;
        }
    }
    
    if(flag){
        printf("invalid");
    }
    else{
        printf("valid");
    }
    
}
